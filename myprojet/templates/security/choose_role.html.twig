{% extends 'base.html.twig' %}

{% block title %}Choisir votre role{% endblock %}

{% block body %}
<div style="max-width: 560px; margin: 40px auto; padding: 24px; border: 1px solid #ddd; border-radius: 12px; background: #fff;">
    <h1 style="margin-top: 0;">Choisir votre role</h1>
    <p>Selectionnez le type de compte a utiliser dans la plateforme.</p>

    {% for message in app.flashes('error') %}
        <div style="background:#fde8e8;color:#9b1c1c;padding:10px;border-radius:8px;margin-bottom:12px;">{{ message }}</div>
    {% endfor %}

    {% for message in app.flashes('success') %}
        <div style="background:#e8f5e9;color:#1b5e20;padding:10px;border-radius:8px;margin-bottom:12px;">{{ message }}</div>
    {% endfor %}

    <form method="post" action="{{ path('app_choose_role') }}">
        <input type="hidden" name="_token" value="{{ csrf_token('choose_role') }}">

        <label for="role" style="display:block; margin-bottom:8px;">Role</label>
        <select id="role" name="role" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #bbb; margin-bottom:16px;">
            <option value="" disabled selected>Choisir un role</option>
            {% for value, label in allowed_roles %}
                <option value="{{ value }}" {% if current_role == value %}selected{% endif %}>{{ label }}</option>
            {% endfor %}
        </select>

        <button type="submit" style="padding:10px 16px;border:none;border-radius:8px;background:#2563eb;color:white;cursor:pointer;">Confirmer</button>
    </form>
</div>
{% endblock %}