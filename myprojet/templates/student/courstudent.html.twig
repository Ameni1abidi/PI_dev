{# templates/student/courstudent.html.twig #}
{% extends 'student/dashCours.html.twig' %}

{% block title %}Mes Cours{% endblock %}

{% block body %}
<div style="padding:20px; font-family: 'Manrope', sans-serif;">

  <h2 style="margin-bottom:20px;">Mes Cours</h2>

  {# üîπ Formulaire de recherche #}
  <form method="get" style="margin-bottom:25px; display:flex; gap:10px; align-items:center;">
    <input type="text" name="search" placeholder="Rechercher un cours"
           value="{{ app.request.query.get('search') }}"
           style="flex:1; padding:8px 12px; border-radius:8px; border:1px solid #ccc;">
    <button type="submit"
            style="padding:8px 16px; background-color:#007bff; color:white; border:none; border-radius:8px; cursor:pointer;">
      üîç Rechercher
    </button>
  </form>

  {# Liste des cours #}
  {% if cours is not empty %}
    {% for cour in cours %}
      <div style="
          margin-bottom:25px;
          padding:20px;
          border-radius:12px;
          background-color:#f8f9fa;
          box-shadow:0 2px 6px rgba(0,0,0,0.05);
      ">
        <div style="font-weight:700; font-size:1.4rem; margin-bottom:8px;">{{ cour.titre }}</div>
        {% if cour.description %}
          <div style="font-size:0.95rem; color:#555; margin-bottom:10px;">{{ cour.description }}</div>
        {% endif %}
        <div style="font-size:0.8rem; color:#888; margin-bottom:15px;">
          Cr√©√© le {{ cour.dateCreation ? cour.dateCreation|date('d/m/Y') : 'N/A' }}
        </div>

        {# Chapitres du cours #}
        {% set chapitres = cour.chapitres %}
        {% if chapitres is not empty %}
          <div style="display:grid; grid-template-columns:repeat(auto-fill, minmax(200px, 1fr)); gap:15px;">
            {% for chap in chapitres %}
              <div style="
                  background-color:#fff;
                  border-radius:8px;
                  padding:12px;
                  box-shadow:0 1px 4px rgba(0,0,0,0.1);
              ">
                <div style="font-weight:600; margin-bottom:5px;">{{ chap.titre }}</div>
                {% if chap.description %}
                  <div style="font-size:0.85rem; color:#555;">{{ chap.description }}</div>
                {% endif %}
              </div>
            {% endfor %}
          </div>
        {% else %}
          <div style="margin-top:10px; font-size:0.85rem; color:#999;">Aucun chapitre pour ce cours.</div>
        {% endif %}
      </div>
    {% endfor %}
  {% else %}
    <div style="
        text-align:center;
        margin-top:30px;
        padding:15px;
        background-color:#e9ecef;
        border-radius:8px;
        color:#555;
    ">
      Aucun cours disponible pour le moment.
    </div>
  {% endif %}

</div>
{% endblock %}





