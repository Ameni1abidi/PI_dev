{% extends 'scholar_base.html.twig' %}

{% block title %}Dashboard Enseignant - EduFlex{% endblock %}

{% block stylesheets %}
  {{ parent() }}
  <style>
    .teacher-main {
      padding-top: 30px;
    }

    .teacher-pill {
      display: inline-block;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 600;
      text-decoration: none;
      margin-right: 8px;
    }

    .teacher-pill-primary {
      background: rgba(122, 106, 216, 0.16);
      color: #6a5acd;
    }

    .teacher-pill-secondary {
      background: rgba(140, 110, 220, 0.16);
      color: #7a55d8;
    }
  </style>
{% endblock %}

{% block body %}
  <div id="js-preloader" class="js-preloader">
    <div class="preloader-inner">
      <span class="dot"></span>
      <div class="dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>

  <header class="header-area header-sticky">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <nav class="main-nav">
            <a href="{{ path('app_home') }}" class="logo">
              <h1>Eduflex</h1>
            </a>
            <div class="search-input">
              <form id="search" action="#">
                <input type="text" placeholder="Type Something" id="searchText" name="searchKeyword" onkeypress="handle" />
                <i class="fa fa-search"></i>
              </form>
            </div>
            <ul class="nav">
        
              <li><a href="{{ path('app_forum_index_context', {'context': 'enseignant'}) }}">Forum</a></li>
              <li><a href="{{ path('app_enseignant_classes') }}">Mes classes</a></li>
              <li><a href="{{ path('app_cours_index') }}">Cours</a></li>
              <li><a href="{{ path('app_examen_index') }}">Examens</a></li>
              <li><a href="{{ path('app_enseignant_evaluations') }}">Evaluations</a></li>
              <li><a href="{{ path('app_resultat_index_readonly') }}">Resultats</a></li>
              <li><a href="{{ logout_path() }}">Logout</a></li>
            </ul>
            <a class="menu-trigger">
              <span>Menu</span>
            </a>
          </nav>
        </div>
      </div>
    </div>
  </header>

  <div class="main-banner" id="top">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="owl-carousel owl-banner">
            <div class="item item-1">
              <div class="header-text">
                <span class="category">Espace Enseignant</span>
                <h2>Gerer vos cours et evaluations facilement</h2>
                <p>Accedez rapidement a vos classes, examens, chapitres et resultats depuis votre dashboard enseignant.</p>
                <div class="buttons">
                  <div class="main-button">
                    <a href="{{ path('app_examen_index') }}">Creer un examen</a>
                  </div>
                  <div class="icon-button">
                    <a href="{{ path('app_cours_index') }}"><i class="fa fa-book"></i> Voir les cours</a>
                  </div>
                </div>
              </div>
            </div>
            <div class="item item-2">
              <div class="header-text">
                <span class="category">Suivi Pedagogique</span>
                <h2>Suivez les notes et les progressions</h2>
                <p>Consultez les resultats et mettez a jour vos activites pedagogiques en quelques clics.</p>
                <div class="buttons">
                  <div class="main-button">
                    <a href="{{ path('app_resultat_index_readonly') }}">Voir les resultats</a>
                  </div>
                  <div class="icon-button">
                    <a href="{{ path('app_enseignant_classes') }}"><i class="fa fa-users"></i> Mes classes</a>
                  </div>
                </div>
              </div>
            </div>
            <div class="item item-3">
              <div class="header-text">
                <span class="category">Communication</span>
                <h2>Echangez avec votre communaute</h2>
                <p>Partagez vos annonces et repondez aux discussions depuis le forum enseignant.</p>
                <div class="buttons">
                  <div class="main-button">
                    <a href="{{ path('app_forum_index_context', {'context': 'enseignant'}) }}">Acceder au forum</a>
                  </div>
                  <div class="icon-button">
                    <a href="{{ path('app_enseignant_evaluations') }}"><i class="fa fa-check"></i> Evaluations</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="services section teacher-main">
    <div class="container">
      <div class="row">
        <div class="col-lg-4 col-md-6">
          <div class="service-item">
            <div class="icon">
              <img src="{{ asset('images/service-01.png') }}" alt="classes">
            </div>
            <div class="main-content">
              <h4>Mes classes</h4>
              <p>Consultez vos classes et l'organisation pedagogique.</p>
              <div class="main-button">
                <a href="{{ path('app_enseignant_classes') }}">Acceder</a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6">
          <div class="service-item">
            <div class="icon">
              <img src="{{ asset('images/service-02.png') }}" alt="cours">
            </div>
            <div class="main-content">
              <h4>Gestion des cours</h4>
              <p>Creez, modifiez et detaillez vos contenus de cours.</p>
              <div class="main-button">
                <a href="{{ path('app_cours_index') }}">Gerer</a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6">
          <div class="service-item">
            <div class="icon">
              <img src="{{ asset('images/service-03.png') }}" alt="evaluations">
            </div>
            <div class="main-content">
              <h4>Evaluations</h4>
              <p>Planifiez vos examens et suivez les evaluations.</p>
              <div class="main-button">
                <a href="{{ path('app_enseignant_evaluations') }}">Ouvrir</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <section class="section courses" id="courses">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <div class="section-heading">
            <h6>Mes Cours</h6>
            <h2>Gestion Rapide</h2>
          </div>
        </div>
      </div>
      <div class="row event_box">
        {% for cour in cours %}
          <div class="col-lg-4 col-md-6 align-self-center mb-30 event_outer">
            <div class="events_item">
              <div class="down-content">
                <span class="author">{{ cour.niveau }}</span>
                <h4>{{ cour.titre }}</h4>
                <p style="margin-bottom: 14px;">Cree le {{ cour.dateCreation ? cour.dateCreation|date('d/m/Y') : 'N/A' }}</p>
                <a class="teacher-pill teacher-pill-primary" href="{{ path('app_cours_show', {'id': cour.id}) }}">Gerer</a>
                <a class="teacher-pill teacher-pill-secondary" href="{{ path('app_chapitre_new', {'coursId': cour.id}) }}">Chapitre</a>
              </div>
            </div>
          </div>
        {% else %}
          <div class="col-lg-12">
            <div class="events_item">
              <div class="down-content">
                <h4>Aucun cours disponible</h4>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  <script>
    function handle(event) {
      if (event.key === 'Enter') {
        event.preventDefault();
      }
    }
  </script>
  <script>
    (function () {
      function hidePreloader() {
        var preloader = document.getElementById('js-preloader');
        if (preloader) {
          preloader.classList.add('loaded');
        }
      }
      window.addEventListener('load', hidePreloader);
      setTimeout(hidePreloader, 1500);
    })();
  </script>
{% endblock %}
